(this["webpackJsonpsmael-bank"]=this["webpackJsonpsmael-bank"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(9),r=n.n(s),l=(n(15),n(16),n(2)),i=[{email:"admin@admin.com",password:"abc123",fullname:"Admin Account",type:"Savings ",number:"47290539480",balance:1e3,isAdmin:!0,transactions:[]},{email:"smael1@gmail.com",password:"abc123",fullname:"smail deprox",type:"Savings ",number:"47290539481",balance:1029300.43,isAdmin:!0,transactions:[]},{email:"smtest@gmail.com",password:"abc123",fullname:"smael smtest",type:"Savings ",number:"47290539482",balance:392830.22,isAdmin:!1,budget:[{title:"Tuition fee",amount:12e3},{title:"Food take out during the pandemic",amount:4e3}],transactions:[{title:"Fund transfer",amount:2e3,type:"debit",date:"October 1, 2021"},{title:"Withdraw",amount:1e4,type:"debit",date:"October 1, 2021"}]},{email:"user24@gmail.com",password:"abc123",fullname:"abdo simo",type:"Savings ",number:"47290539483",balance:102938.34,isAdmin:!1,transactions:[]},{email:"user34@gmail.com",password:"abc123",fullname:"Jack Smith",type:"Checking ",number:"47290539484",balance:837495.38,isAdmin:!1,transactions:[]},{email:"derek@gmail.com",password:"abc123",fullname:"Rito Vilanova",type:"Checking ",number:"47290539485",balance:574839.58,isAdmin:!1,transactions:[]},{email:"client@client.com",password:"abc123",fullname:"Client Demo Account",type:"Savings ",number:"47290539486",balance:1e3,isAdmin:!1,transactions:[]}],u=n(4),o=n(3),b=n(0),j=function(){return Object(b.jsx)("h1",{id:"logo",children:"Smael Bank"})},d=function(e){var t=e.user,n=e.logoutHandler,a=e.changePage,c=e.page,s=null;return t||(s=Object(b.jsx)(O,{changePage:a,page:c,logoutHandler:n})),t&&(s=Object(b.jsx)(m,{changePage:a,page:c,logoutHandler:n})),Object(b.jsxs)("section",{id:"side-menu",children:[Object(b.jsx)(j,{}),s]})},m=function(e){var t=e.changePage,n=e.logoutHandler,a=e.page;return Object(b.jsxs)("ul",{children:[Object(b.jsx)(g,{onClickHandler:t,active:a,page:"home",icon:"bx bx-home",text:"Home"}),Object(b.jsx)(g,{onClickHandler:t,active:a,page:"budget",icon:"bx bx-money",text:"Budget App"}),Object(b.jsx)(g,{onClickHandler:t,active:a,page:"transfer",icon:"bx bx-transfer",text:"Fund Transfer"}),Object(b.jsx)(g,{onClickHandler:n,active:a,icon:"bx bx-log-out",text:"Logout"})]})},O=function(e){var t=e.changePage,n=e.logoutHandler,a=e.page;return Object(b.jsxs)("ul",{children:[Object(b.jsx)(g,{onClickHandler:t,active:a,page:"home",icon:"bx bx-home",text:"Home"}),Object(b.jsx)(g,{onClickHandler:t,active:a,page:"create-account",icon:"bx bx-user-pin",text:"Create Account"}),Object(b.jsx)(g,{onClickHandler:t,active:a,page:"transfer",icon:"bx bx-transfer",text:"Fund Transfer"}),Object(b.jsx)(g,{onClickHandler:t,active:a,page:"deposit",icon:"bx bx-money",text:"Deposit"}),Object(b.jsx)(g,{onClickHandler:t,active:a,page:"withdraw",icon:"bx bx-log-out-circle",text:"Withdraw"}),Object(b.jsx)(g,{onClickHandler:n,active:a,icon:"bx bx-log-out",text:"Logout"})]})},g=function(e){var t=e.icon,n=e.text,a=e.page,c=e.active;return Object(b.jsx)("li",{children:Object(b.jsxs)("a",{onClick:function(t){a?(t.preventDefault(),e.onClickHandler(a)):(t.preventDefault(),e.onClickHandler())},className:c===a?"active":"",href:"#",children:[Object(b.jsx)("i",{className:t})," ",n]})})},f=function(e){var t,n=e.editingUser,a=e.setEditingUser,c=e.index,s=e.setEditModal,r=e.setDeleteUser;return Object(b.jsxs)("div",{id:"actions",children:[Object(b.jsx)(x,(t={icon:"bx bx-edit",text:"Edit",index:c,actionType:"edit",editingUser:n},Object(u.a)(t,"actionType","edit"),Object(u.a)(t,"setEditingUser",a),Object(u.a)(t,"setEditModal",s),t)),Object(b.jsx)(x,{icon:"bx bxs-x-square",index:c,actionType:"delete",text:"Delete",editingUser:n,setDeleteUser:r})]})},x=function(e){var t=e.icon,n=e.text,a=(e.editingUser,e.actionType),c=e.setEditingUser,s=e.index,r=e.setEditModal,l=e.setDeleteUser;return Object(b.jsxs)("button",{onClick:function(e){return function(e,t){e.preventDefault(),"edit"===a&&(c(t),r(!0)),"delete"===a&&l(t)}(e,s)},children:[Object(b.jsx)("i",{className:t})," ",n]})},h=n(6);function p(e){return e.toLocaleString(void 0,{maximumFractionDigits:2})}function v(e){return parseFloat(e.replace(/,/g,""))||0}function y(e){var t,n=JSON.parse(localStorage.getItem("users")),a=Object(h.a)(n);try{for(a.s();!(t=a.n()).done;){var c=t.value;if(c.number===e)return c}}catch(s){a.e(s)}finally{a.f()}return!1}function S(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=1;"add"!==n&&"credit"!==n||(c=1),"subtract"!==n&&"debit"!==n||(c=-1);var s,r=JSON.parse(localStorage.getItem("users")),l=Object(h.a)(r);try{for(l.s();!(s=l.n()).done;){var i=s.value;i.number===e&&(i.balance+=t*c,"add"!==n&&"credit"!==n||i.transactions.unshift({title:"Deposit",amount:t,type:"credit",date:w()}),"subtract"!==n&&"debit"!==n||i.transactions.unshift({title:"Withdraw",amount:t,type:"debit",date:w()}))}}catch(u){l.e(u)}finally{l.f()}a(r),localStorage.setItem("users",JSON.stringify(r))}function N(e){return e.charAt(0).toUpperCase()+e.slice(1)}function C(e,t){var n=y(e);n.budget=t;var a=function(e){var t=JSON.parse(localStorage.getItem("users")).filter((function(t){return t.number!==e.number}));return t.push(e),t}(n);localStorage.setItem("users",JSON.stringify(a))}function w(){var e=new Date;return"".concat(e.toLocaleString("en-us",{month:"long"})," ").concat(e.getDay(),", ").concat(e.getFullYear())}var A=function(e){var t=e.type,n=e.accountNumber,a=e.balance,c=e.fullname,s=e.editingUser,r=e.setEditingUser,l=e.setDeleteUser,i=e.index,u=e.isAdmin,o=e.setEditModal,j=u?Object(b.jsx)(f,{index:i,editingUser:s,setEditingUser:r,setEditModal:o,setDeleteUser:l}):"";return Object(b.jsxs)("div",{className:"account",children:[Object(b.jsxs)("div",{className:"details",children:[Object(b.jsx)(U,{fullname:c}),Object(b.jsx)(k,{type:t}),Object(b.jsx)(H,{accountNumber:n}),j]}),Object(b.jsx)(E,{balance:p(a)})]})},U=function(e){return Object(b.jsx)("h1",{children:e.fullname})},k=function(e){return Object(b.jsx)("h3",{children:e.type})},H=function(e){return Object(b.jsx)("div",{children:e.accountNumber})},E=function(e){var t=e.balance;return Object(b.jsx)("div",{className:"balance",children:t})},F=function(e){var t=e.users,n=e.editingUser,c=e.setEditingUser,s=e.setEditModal,r=e.setDeleteUser,i=Object(a.useState)(!1),u=Object(l.a)(i,2),o=u[0],j=u[1];Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("currentUser"));j(e.isAdmin)}),[o]);var d=t.map((function(e,t){return Object(b.jsx)(A,{index:t,fullname:e.fullname,type:e.type,isAdmin:o,accountNumber:e.number,balance:e.balance,editingUser:n,setEditingUser:c,setEditModal:s,setDeleteUser:r},t)}));return Object(b.jsx)("section",{id:"main-content",children:d})},I=function(e){return Object(b.jsx)("div",{className:"notif ".concat(e.style),children:e.message})},D=function(e){var t=function(){return Math.floor(1e9+9e9*Math.random())},n=Object(a.useState)({message:"Create a new client account.",style:"left"}),c=Object(l.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(0),u=Object(l.a)(i,2),o=u[0],j=u[1],d=Object(a.useState)(t()),m=Object(l.a)(d,2),O=m[0],g=m[1];return Object(b.jsx)("section",{id:"main-content",children:Object(b.jsxs)("form",{id:"form",onSubmit:function(n){n.preventDefault();var a=n.target.elements,c=function(t){var n=Object.values(t).filter((function(e){return""===e})),a=e.users,c=!1;return a.forEach((function(e){e.email===t.email&&(c=!0)})),c?(r({message:"This email already exists. Try again.",style:"danger"}),!1):n.length>0?(r({message:"All fields are required.",style:"danger"}),!1):(r(""),a.unshift(t),e.setUsers(a),localStorage.setItem("users",JSON.stringify(a)),r({message:"Successfully saved.",style:"success"}),!0)}({email:a.email.value,password:a.password.value,fullname:a.fullname.value,type:a.accountType.value,number:a.accountNumber.value,isAdmin:!1,balance:v(a.initialBalance.value),transactions:[]});c&&(a.email.value="",a.password.value="",a.fullname.value="",a.accountNumber.value=g(t()),a.initialBalance.value=j(0))},children:[Object(b.jsx)("h1",{children:"Create Account"}),Object(b.jsx)(I,{message:s.message,style:s.style}),Object(b.jsx)("label",{htmlFor:"fullname",children:"Full name"}),Object(b.jsx)("input",{id:"fullname",type:"text",autoComplete:"off",name:"fullname"}),Object(b.jsx)("hr",{}),Object(b.jsx)("label",{htmlFor:"account-number",children:"Account # (Randomly Generated)"}),Object(b.jsx)("input",{id:"account-number",name:"accountNumber",className:"right",value:O,type:"number",disabled:!0}),Object(b.jsx)("label",{htmlFor:"balance",children:"Initial balance"}),Object(b.jsx)("input",{id:"balance",type:"text",value:p(o),onChange:function(e){var t=v(e.target.value)||0;j(t)},name:"initialBalance",className:"right"}),Object(b.jsx)("label",{htmlFor:"account-type",children:"Account Type"}),Object(b.jsxs)("select",{name:"accountType",children:[Object(b.jsx)("option",{value:"Checking Account",children:"Checking Account"}),Object(b.jsx)("option",{value:"Savings Accounts",children:"Savings Account"})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(b.jsx)("input",{id:"email",type:"email",name:"email"}),Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{id:"password",type:"password",name:"password"}),Object(b.jsx)("input",{value:"Create Account",className:"btn",type:"submit"})]})})},T=function(e){var t=e.isClient,n=e.client,c=(e.setClient,Object(a.useState)(e.users)),s=Object(l.a)(c,2),r=s[0],i=s[1],u=Object(a.useState)(r),o=Object(l.a)(u,2),j=o[0],d=o[1],m=Object(a.useState)(t?n:{balance:0}),O=Object(l.a)(m,2),g=O[0],f=O[1],x=Object(a.useState)({balance:0}),h=Object(l.a)(x,2),v=h[0],y=h[1],S=Object(a.useState)({message:"Transfer money from one account to another.",style:"left"}),N=Object(l.a)(S,2),C=N[0],A=N[1],U=Object(a.useState)(0),k=Object(l.a)(U,2),H=k[0],E=k[1],F=null;t||(F=r.map((function(e){return Object(b.jsxs)("option",{value:e.number,children:[e.fullname," #",e.number]})})));var D=j.map((function(e){if(g.number!==e.number)return Object(b.jsxs)("option",{value:e.number,children:[e.fullname," #",e.number]})})),T=Object(b.jsxs)("select",{onChange:function(e){var t=e.target.value,n=null;r.forEach((function(e){e.number===t&&(n=e)}));var a=r.filter((function(e,n){return e.number!==t}));f(n),d(a),y({number:0,balance:0})},name:"sender",children:[Object(b.jsx)("option",{children:"Select Sender"}),F]});return t&&(T=Object(b.jsx)("input",{type:"text",name:"sender",value:"".concat(n.fullname," #").concat(n.number),disabled:!0})),Object(b.jsx)("section",{id:"main-content",children:Object(b.jsxs)("form",{id:"form",onSubmit:function(t){t.preventDefault();var n=parseFloat(t.target.elements.amount.value.replace(/,/g,""));if(n<=0)return!1;var a=JSON.parse(localStorage.getItem("users"));if(0!==g.number&&0!==v.number&&v.number){var c=!1;a.forEach((function(e){if(e.number===g.number&&e.balance-n>=0){e.balance-=n;new Date;console.log(e.transactions),e.transactions.unshift({title:"Fund transfer to ".concat(v.fullname," #").concat(v.number),amount:n,type:"debit",date:w()}),f(e),c=!0}})),c?(a.forEach((function(e){e.number===v.number&&(e.balance+=n,e.transactions.unshift({title:"Fund transfer from ".concat(g.fullname," #").concat(v.number),amount:n,type:"credit",date:w()}),y(e))})),A({message:"Successful transfer.",style:"success"}),i(a),e.setUsers(a),localStorage.setItem("users",JSON.stringify(a)),E(0)):A({message:"Transfer failed.",style:"danger"})}else A({message:"Incomplete information. Missing sender or receiver.",style:"danger"})},children:[Object(b.jsx)("h1",{children:"Fund Transfer"}),Object(b.jsx)(I,{message:C.message,style:C.style}),Object(b.jsx)("h2",{children:"Sender"}),Object(b.jsx)("label",{children:"From (Sender)"}),T,Object(b.jsx)("label",{children:"Current balance"}),Object(b.jsx)("input",{type:"text",className:"right",value:p(g.balance),disabled:!0}),Object(b.jsx)("label",{children:"Amount to Transfer"}),Object(b.jsx)("input",{type:"text",name:"amount",value:p(H),onChange:function(e){var t=parseFloat(e.target.value.replace(/,/g,""))||0;E(t)},autoComplete:"off",className:"right big-input"}),Object(b.jsx)("div",{className:"transfer-icon",children:Object(b.jsx)("i",{className:"bx bx-down-arrow-alt"})}),Object(b.jsx)("h2",{children:"Receiver"}),Object(b.jsx)("label",{children:"To (Receiver)"}),Object(b.jsxs)("select",{value:v.number||0,onChange:function(e){var t=e.target.value,n=null;r.forEach((function(e){e.number===t&&(n=e)})),y(n)},name:"receiver",children:[Object(b.jsx)("option",{children:"Select Receiver"}),D]}),Object(b.jsx)("label",{children:"Current balance"}),Object(b.jsx)("input",{type:"text",className:"right",value:p(v.balance),disabled:!0}),Object(b.jsx)("input",{type:"submit",className:"btn",value:"Transfer Fund"})]})})},J=function(e){var t=JSON.parse(localStorage.getItem("users")),n=e.setNotif,c=e.notif,s=Object(a.useState)(t),r=Object(l.a)(s,2),i=r[0],u=r[1],o=Object(a.useState)({balance:0}),j=Object(l.a)(o,2),d=j[0],m=j[1],O=Object(a.useState)(0),g=Object(l.a)(O,2),f=g[0],x=g[1],C=i.map((function(e){return Object(b.jsxs)("option",{value:e.number,children:[e.fullname," #",e.number]})})),w="withdraw"===e.page?"bx bx-down-arrow-alt":"bx bx-up-arrow-alt";return Object(b.jsx)("section",{id:"main-content",children:Object(b.jsxs)("form",{id:"form",onSubmit:function(t){t.preventDefault();var a=v(t.target.elements.amount.value),c=t.target.elements.account.value;if(a>0&&"0"!==c){var s,r=Object(h.a)(i);try{for(r.s();!(s=r.n()).done;){var l=s.value;if(l.number===c){S(l.number,a,e.type,e.setUsers),m(y(l.number)),u(JSON.parse(localStorage.getItem("users"))),x(0),n({message:"".concat(N(e.page)," successful."),style:"success"});break}}}catch(o){r.e(o)}finally{r.f()}}else n({message:"".concat(N(e.page)," failed."),style:"danger"})},children:[Object(b.jsx)("h1",{children:e.page}),Object(b.jsx)(I,{message:c.message,style:c.style}),Object(b.jsx)("label",{children:"Account"}),Object(b.jsxs)("select",{name:"account",onChange:function(e){n(c);var t,a=e.target.value,s=Object(h.a)(i);try{for(s.s();!(t=s.n()).done;){var r=t.value;if(r.number===a){m(r);break}}}catch(l){s.e(l)}finally{s.f()}},children:[Object(b.jsx)("option",{value:"0",children:"Select Account"}),C]}),Object(b.jsx)("label",{children:"Current balance"}),Object(b.jsx)("input",{type:"text",className:"right",value:p(d.balance),disabled:!0}),Object(b.jsx)("div",{className:"transfer-icon",children:Object(b.jsx)("i",{className:w})}),Object(b.jsxs)("label",{children:["Amount to ",e.page]}),Object(b.jsx)("input",{type:"text",name:"amount",value:f,onChange:function(e){var t=p(v(e.target.value));x(t)},autoComplete:"off",className:"right big-input"}),Object(b.jsx)("button",{type:"submit",className:"btn",children:e.page})]})})},M=function(e){var t=Object(a.useState)("home"),n=Object(l.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(e.users),i=Object(l.a)(r,2),j=i[0],m=i[1],O=Object(a.useState)({message:"",style:""}),g=Object(l.a)(O,2),f=g[0],x=g[1],h=Object(a.useState)(null),p=Object(l.a)(h,2),v=p[0],y=p[1],S=Object(a.useState)(null),N=Object(l.a)(S,2),C=N[0],w=N[1],A=Object(a.useState)(!1),U=Object(l.a)(A,2),k=U[0],H=U[1],E=Object(a.useState)(!1),I=Object(l.a)(E,2),M=I[0],B=I[1],L=Object(a.useState)(null),R=Object(l.a)(L,2),W=R[0],q=R[1],V=function(e){s(e),"withdraw"===e&&x({message:"Select an account to withdraw money from.",style:"left"}),"deposit"===e&&x({message:"Select an account to deposit money.",style:"left"})};Object(a.useEffect)((function(){if(null!==C){var e=j.filter((function(e,t){return t!==C}));m(e),w(null),localStorage.setItem("users",JSON.stringify(e))}}),[C]),Object(a.useEffect)((function(){if(M){var e=j.map((function(e,t){return e.number===W.number&&(e=Object(o.a)(Object(o.a)({},e),W)),e}));m(e),B(!1),localStorage.setItem("users",JSON.stringify(e))}}),[M]);var Y=null;if(null!==v&&k){var G=j[v];Y=Object(b.jsx)(P,Object(u.a)({accountName:G.fullname,accountNumber:G.number,balance:G.balance,setEditModal:H,setIsUpdate:B,setNewAccount:q},"setIsUpdate",B))}return"home"===c?Object(b.jsxs)("main",{children:[Object(b.jsx)(d,{changePage:V,page:c,logoutHandler:e.logoutHandler}),Object(b.jsx)(F,{users:j,editingUser:v,setEditModal:H,setEditingUser:y,setDeleteUser:w}),Y]}):"create-account"===c?Object(b.jsxs)("main",{children:[Object(b.jsx)(d,{changePage:V,page:c,logoutHandler:e.logoutHandler}),Object(b.jsx)(D,{users:j,setUsers:m})]}):"transfer"===c?Object(b.jsxs)("main",{children:[Object(b.jsx)(d,{changePage:V,page:c,logoutHandler:e.logoutHandler}),Object(b.jsx)(T,{users:j,setUsers:m})]}):"deposit"===c?Object(b.jsxs)("main",{children:[Object(b.jsx)(d,{changePage:V,page:c,logoutHandler:e.logoutHandler}),Object(b.jsx)(J,{users:j,setUsers:m,notif:f,setNotif:x,type:"add",page:c})]}):"withdraw"===c?Object(b.jsxs)("main",{children:[Object(b.jsx)(d,{changePage:V,page:c,logoutHandler:e.logoutHandler}),Object(b.jsx)(J,{users:j,setUsers:m,notif:f,setNotif:x,type:"subtract",page:c})]}):void 0},P=function(e){var t=e.accountName,n=e.accountNumber,c=e.balance,s=e.setEditModal,r=e.setNewAccount,i=e.setIsUpdate,u=Object(a.useState)({fullname:t,number:n,balance:c}),j=Object(l.a)(u,2),d=j[0],m=j[1];return Object(b.jsx)("div",{className:"overlay",children:Object(b.jsx)("div",{className:"modal",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("Update"),r(d),i(!0),s(!1)},children:[Object(b.jsx)("h2",{className:"title",children:"Edit Account"}),Object(b.jsx)("label",{children:"Account name"}),Object(b.jsx)("input",{name:"account-name",onChange:function(e){var t=e.target.value;m(Object(o.a)(Object(o.a)({},d),{fullname:t}))},value:d.fullname,autoComplete:"off"}),Object(b.jsx)("label",{children:"Account number"}),Object(b.jsx)("input",{type:"text",name:"amount",onChange:function(e){var t=e.target.value;m(Object(o.a)(Object(o.a)({},d),{number:t}))},disabled:!0,value:d.number,autoComplete:"off"}),Object(b.jsx)("label",{children:"Balance"}),Object(b.jsx)("input",{type:"text",name:"balance",onChange:function(e){var t=e.target.value;m(Object(o.a)(Object(o.a)({},d),{balance:parseFloat(t)||0}))},value:d.balance,autoComplete:"off"}),Object(b.jsx)("button",{type:"button",onClick:function(){s(!1)},className:"btn2 btn-muted",children:"Cancel"}),Object(b.jsx)("button",{type:"submit",className:"btn2",children:"Update Account"})]})})})},B=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),i=Object(l.a)(r,2),u=i[0],o=i[1];return Object(b.jsx)("div",{id:"login-page",children:Object(b.jsxs)("div",{id:"login",children:[Object(b.jsx)(j,{}),Object(b.jsx)(I,{message:e.notif.message,style:e.notif.style}),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.loginHandler(c,u)},children:[Object(b.jsx)("label",{htmlFor:"username",children:"Username"}),Object(b.jsx)("input",{id:"username",autoComplete:"off",onChange:function(e){s(e.target.value)},value:c,type:"text"}),Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{id:"password",autoComplete:"off",onChange:function(e){o(e.target.value)},value:u,type:"password"}),Object(b.jsx)("button",{type:"submit",className:"btn",children:"Login"})]})]})})},L=function(e){var t=e.user;console.log(t);var n=t.transactions.map((function(e,t){var n=t%2===0?"even":"odd";return Object(b.jsxs)("div",{className:"transaction-item ".concat(n),children:[Object(b.jsx)("div",{children:e.date}),Object(b.jsx)("div",{children:e.title}),Object(b.jsx)("div",{children:"debit"===e.type?p(-1*e.amount):p(e.amount)})]})}));return Object(b.jsxs)("section",{id:"main-content",children:[Object(b.jsx)("h1",{className:"main",children:"My Account"}),Object(b.jsx)(A,{type:t.type,accountNumber:t.number,balance:t.balance,fullname:t.fullname}),Object(b.jsxs)("div",{id:"transactions",children:[Object(b.jsx)("h2",{children:"Transactions"}),Object(b.jsx)("div",{id:"transaction-div",children:n})]})]})},R=n(10),W=function(e){var t=e.client,n=Object(a.useState)(t.budget||[]),c=Object(l.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(!1),u=Object(l.a)(i,2),o=u[0],j=u[1],d=Object(a.useState)({title:"",amount:""}),m=Object(l.a)(d,2),O=m[0],g=m[1],f=Object(a.useState)("add"),x=Object(l.a)(f,2),h=x[0],v=x[1],y=function(){return s.reduce((function(e,t){return e+t.amount}),0)},S=y(),N=Object(a.useState)(t.balance-S),w=Object(l.a)(N,2),A=w[0],U=w[1],k=function(e){var t=s[e];t.id=e,g(t),v("edit"),j(!0)},H=o?Object(b.jsx)(q,{title:O.title,id:O.id,amount:O.amount,modalAction:h,setIsModalOpen:j,saveBudget:function(e,n){if((e=parseFloat(e))>0){U(A-e);var a=[{title:n,amount:e}].concat(Object(R.a)(s));r(a),j(!1),C(t.number,a)}},updateBudget:function(e){var n=e.id,a=e.amount,c=e.title,l=s[n];l.title=c,l.amount=a,r(s),C(t.number,s);var i=y();U(t.balance-i),j(!1)}}):"",E=s.map((function(e,n){var a=n%2===0?"even":"odd";return Object(b.jsxs)("div",{className:"budget-row ".concat(a),children:[Object(b.jsxs)("div",{className:"budget-title",children:[Object(b.jsx)("button",{type:"button",onClick:function(){return function(e){var n=s.filter((function(t,n){return e!==n}));U(A+s[e].amount),r(n),C(t.number,n)}(n)},className:"mr",children:Object(b.jsx)("i",{class:"bx bxs-x-square"})}),Object(b.jsx)("button",{type:"button",onClick:function(){return k(n)},className:"mr",children:Object(b.jsx)("i",{class:"bx bx-edit-alt"})}),Object(b.jsx)("span",{onClick:function(){return k(n)},children:e.title})]}),Object(b.jsx)("div",{children:p(e.amount)})]})}));return Object(b.jsxs)("div",{id:"main-content",children:[Object(b.jsxs)("form",{id:"form",className:"budget",children:[Object(b.jsx)("h1",{children:"Budget App"}),Object(b.jsx)("div",{children:"Start budgeting your money with our built in app."}),Object(b.jsxs)("div",{id:"budget",children:[Object(b.jsxs)("div",{className:"budget-menu",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("button",{className:"btn2",onClick:function(e){e.preventDefault(),g({title:"",amount:""}),v("add"),j(!0)},children:[Object(b.jsx)("i",{className:"bx bx-book-add"})," Add budget"]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Remaining Budget"}),Object(b.jsx)("h1",{className:A<0?"danger":"",children:p(A)})]})]}),Object(b.jsx)("div",{className:"budget-body",children:E})]})]}),H]})},q=function(e){var t=e.saveBudget,n=e.updateBudget,c=e.setIsModalOpen,s=e.title,r=e.amount,i=e.modalAction,u=e.id,j=Object(a.useState)({id:u,title:s,amount:r}),d=Object(l.a)(j,2),m=d[0],O=d[1],g=Object(a.useState)(i),f=Object(l.a)(g,2),x=f[0];f[1];return Object(b.jsx)("div",{className:"overlay",children:Object(b.jsx)("div",{className:"modal",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"add"===x&&t(m.amount,m.title),"edit"===x&&n(m)},children:[Object(b.jsxs)("h2",{className:"title",children:[x," budget"]}),Object(b.jsx)("label",{children:"description"}),Object(b.jsx)("textarea",{name:"title",onChange:function(e){O(Object(o.a)(Object(o.a)({},m),{},{title:e.target.value}))},defaultValue:m.title}),Object(b.jsx)("label",{children:"Amount"}),Object(b.jsx)("input",{type:"number",name:"amount",onChange:function(e){O(Object(o.a)(Object(o.a)({},m),{},{amount:parseFloat(e.target.value)}))},value:m.amount,autoComplete:"off"}),Object(b.jsx)("button",{type:"button",onClick:function(){return c(!1)},className:"btn2 btn-muted",children:"Cancel"}),Object(b.jsxs)("button",{type:"submit",className:"btn2",children:[x," Budget"]})]})})})},V=function(e){e.logout;var t=e.client,n=e.setClient,c=Object(a.useState)(e.users),s=Object(l.a)(c,2),r=s[0],i=s[1],u=Object(a.useState)("home"),o=Object(l.a)(u,2),j=o[0],m=o[1],O=function(e){m(e);var a=y(t.number);n(a)};return"home"===j?Object(b.jsxs)("main",{children:[Object(b.jsx)(d,{changePage:O,page:j,user:t,logoutHandler:e.logout}),Object(b.jsx)(L,{user:t})]}):"budget"===j?Object(b.jsxs)("main",{children:[Object(b.jsx)(d,{changePage:O,page:j,user:t,logoutHandler:e.logout}),Object(b.jsx)(W,{client:t})]}):"transfer"===j?Object(b.jsxs)("main",{children:[Object(b.jsx)(d,{changePage:O,page:j,user:t,logoutHandler:e.logout}),Object(b.jsx)(T,{isClient:"true",client:t,setClient:n,users:r,setUsers:i})]}):void 0},Y=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({message:"",style:""}),r=Object(l.a)(s,2),u=r[0],o=r[1],j=Object(a.useState)(!1),d=Object(l.a)(j,2),m=d[0],O=d[1],g=Object(a.useState)(null),f=Object(l.a)(g,2),x=f[0],h=f[1];localStorage.getItem("users")||localStorage.setItem("users",JSON.stringify(i));var p=JSON.parse(localStorage.getItem("users")),v=function(){c(!1),O(!1),localStorage.removeItem("client"),o({message:"You have logged out.",style:"success"})};return n?(localStorage.setItem("currentUser",JSON.stringify(x)),m?Object(b.jsx)(M,{users:p,logoutHandler:v}):Object(b.jsx)(V,{client:x,users:p,setClient:h,logout:v})):Object(b.jsx)(B,{loginHandler:function(e,t){(function(e,t){var n=!1;return p.forEach((function(a){a.email===e&&a.password===t&&(a.isAdmin?(O(!0),h(a),n=!0):(O(!1),h(a),n=!0),o(""))})),n||o({message:"Wrong username and password.",style:"danger"}),n})(e,t)&&c(!0)},notif:u,isLoggedIn:n})};var G=function(){return Object(b.jsx)(Y,{})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root")),z()}},[[18,1,2]]]);
//# sourceMappingURL=main.f6f7d62e.chunk.js.map